package lesson14;

import java.util.HashMap;
import java.util.Map;

public class Refrigerator {
    private HashMap<String, Integer> products = new HashMap<>();

    public void addProduct(String product, int value) {
        if (products.containsKey(product)) {
            int valueNow = products.get(product);
            products.put(product, value + valueNow);
        } else {
            products.put(product, value);
        }

    }

    public void printAllProducts() {
        for (String product : products.keySet()) {
            System.out.println(product + " - " + products.get(product));
        }
    }

    public void getProduct(String product, int value) {
        if (!products.containsKey(product)) {
            System.out.println("nothing");
            return;
        }
        int currentValue = products.get(product);
        if (currentValue < value) {
            products.remove(product);
            System.out.println("nothing");
            return;
        }
        products.put(product, currentValue - value);
    }

    public void smallestValueProducts() {
       Integer smallestValue = Integer.MAX_VALUE;
       String smallestKey = null;
        for (Map.Entry<String, Integer> product : products.entrySet()){
            if(product.getValue() < smallestValue){
                smallestValue = product.getValue();
                smallestKey = product.getKey();
            }

        }
        System.out.println("the smallest product is "+ smallestValue +" "+ smallestKey);
    }
    public void sumOfAllProducts (){
        Integer sumOfProducts = 0;
        for (Map.Entry<String, Integer> sum: products.entrySet()){
            sumOfProducts += sum.getValue();
        }
        System.out.println(sumOfProducts);
    }
}

